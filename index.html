<!DOCTYPE html>
<html>
  <head>
    <title>Docker 301</title>
    <meta charset="utf-8">
    <style>
      @import url(https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic);

      * {
        font-family: 'Ubuntu Mono'; 
        font-weight: normal;
      }

      .remark-code, .remark-inline-code { 
        background: #eeeeee;
      }
    </style>
  </head>
  <body>
    <textarea id="source">

class: center, middle

# Docker 301

---

# Introduction

Self: 
- Manish Raj <manish_raj@outlook.com>

---

Dockerfile

- always use alpine or slim variant for production to keep image size small
- use a .dockerignore file to trim down build context
- 

---

Image registry, tags, private registry

---

Multi-staged builds

Why?

- reduce image size
- avoid the builder pattern

- use multiple FROM statements in Dockerfile
- enables using multiple base images in a single Dockerfile

- Example of multi-stage docker files:

```
# stage 0
FROM golang:1.7.3 AS builder
WORKDIR /go/src/github.com/alexellis/href-counter/
RUN go get -d -v golang.org/x/net/html  
COPY app.go    .
RUN CGO_ENABLED=0 GOOS=linux go build -a -installsuffix cgo -o app .

# stage 1
FROM alpine:latest  
RUN apk --no-cache add ca-certificates
WORKDIR /root/
COPY --from=builder /go/src/github.com/alexellis/href-counter/app .
CMD ["./app"]  
```


```
docker build --target <stage-name> -t <tag>
```

</textarea>
    <script src="https://remarkjs.com/downloads/remark-latest.min.js">
    </script>
    <script>
      var slideshow = remark.create();
    </script>
  </body>
</html>